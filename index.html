<!DOCTYPE html>

<html lang="tr">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>√áarkƒ±felek Candy Casino</title>
  
    <!--
    Project: Candy Casino ‚Äî Prize Wheel
    Developer: Chris
    Notes (EN):
      ‚Ä¢ Turkish copy and UI strings are preserved exactly as provided.
      ‚Ä¢ English comments explain structure and logic for future maintenance.
      ‚Ä¢ Added basic accessibility (ARIA roles/labels).
      ‚Ä¢ HiDPI-aware canvas sizing for crisp text on Retina/4K.
      ‚Ä¢ Spin button is disabled while spinning to prevent double clicks.
      ‚Ä¢ The Banner appears like a pop up rather than creating a scroll down sector
      ‚Ä¢ Honors prefers-reduced-motion for users sensitive to animations.
      ‚Ä¢ Asset filenames normalized (no spaces): candy-1.png, candy-2.png, candy-3.png.
      ‚Ä¢ External tracking script kept as-is for parity; see caution below.
    -->

    <!-- Voluum -->
  <meta http-equiv="delegate-ch" content="sec-ch-ua https://adviseattline.com; sec-ch-ua-mobile https://adviseattline.com; sec-ch-ua-arch https://adviseattline.com; sec-ch-ua-model https://adviseattline.com; sec-ch-ua-platform https://adviseattline.com; sec-ch-ua-platform-version https://adviseattline.com; sec-ch-ua-bitness https://adviseattline.com; sec-ch-ua-full-version-list https://adviseattline.com; sec-ch-ua-full-version https://adviseattline.com">
  <style>.dtpcnt{opacity: 0;}</style>
  <script>
  (function(d,c,k,l,r,t,g,u,A,e,m,v,B,a,n,p,h,q,w,D,x){function y(){for(var f=c.querySelectorAll(".dtpcnt"),b=0,a=f.length;b<a;b++)f[b][u]=f[b][u].replace(/(^|\s+)dtpcnt($|\s+)/g,"")}function C(a,b,d,e){var f=new Date;f.setTime(f.getTime()+(e||864E5));c.cookie=a+"="+b+"; "+d+"samesite=Strict; expires="+f.toGMTString()+"; path=/";k.setItem(a,b);k.setItem(a+"-expires",f.getTime())}function z(a){var b=c.cookie.match(new RegExp("(^| )"+a+"=([^;]+)"));return b?b.pop():k.getItem(a+"-expires")&&+k.getItem(a+"-expires")>(new Date).getTime()?k.getItem(a):null}x="https:"===d.location.protocol?"secure; ":"";d[e]||(d[e]=function(){(d[e].q=d[e].q||[]).push(arguments)},p=c[r],c[r]=function(){p&&p.apply(this,arguments);if(d[e]&&!d[e].hasOwnProperty("params")&&/loaded|interactive|complete/.test(c.readyState))for(;a=c[t][m++];)/\/?click\/?($|(\/[0-9]+)?$)/.test(a.pathname)&&(a[g]="javascrip"+d.postMessage.toString().slice(4,5)+":"+e+'.l="'+a[g]+'",void 0')},setTimeout(function(){(q=/[?&]cpid(=([^&#]*)|&|#|$)/.exec(d.location.href))&&q[2]&&(h=q[2],w=z("vl-"+h));var f=z("vl-cep"),b=location[g];if("savedCep"===B&&f&&(!h||"undefined"===typeof h)&&0>b.indexOf("cep=")){var e=-1<b.indexOf("?")?"&":"?";b+=e+f}a=c.createElement("script");n=c.scripts[0];a.defer=1;a.src=v+(-1===v.indexOf("?")?"?":"&")+"lpref="+l(c.referrer)+"&lpurl="+l(b)+"&lpt="+l(c.title)+"&vtm="+(new Date).getTime()+(w?"&uw=no":"");a[A]=function(){for(m=0;a=c[t][m++];)/dtpCallback\.l/.test(a[g])&&(a[g]=decodeURIComponent(a[g]).match(/dtpCallback\.l="([^"]+)/)[1]);y()};n.parentNode.insertBefore(a,n);h&&C("vl-"+h,"1",x)},0),setTimeout(y,7E3))})(window,document,localStorage,encodeURIComponent,"onreadystatechange","links","href","className","onerror","dtpCallback",0,"https://adviseattline.com/d/.js","savedCep");
  </script>
  <noscript><link href="https://adviseattline.com/d/.js?noscript=true&lpurl=" rel="stylesheet"/></noscript>

  
  
  
  
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:wght@700&display=swap');
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Lato', sans-serif;
      background: url('candy-bg.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .intro {
      text-align: center;
      margin-top: 40px;
    }

/* Base */
.intro h1{
  font-size: 48px;
  color:#ffcc00;
  text-shadow:3px 3px 6px #000;
  margin:5px 0;
}

/* Width and height */

/* iPhone SE ~ 375 √ó 667 */
@media (max-width: 375px) and (max-height: 667px){
  .intro h1{ font-size: 48px; }
  .intro p { font-size: 22px; }
}


/* iPhone XR ~ 414 √ó 896 */
@media (min-width: 376px) and (max-width: 414px)
       and (min-height: 668px) and (max-height: 896px){
  .intro h1{ font-size: 26px; }
}

/* iPhone 14 Pro Max ~ 430 √ó 932 */
@media (min-width: 415px) and (max-width: 430px)
       and (min-height: 897px) and (max-height: 932px){
  .intro h1{ font-size: 27px; }
}

/* Pixel 7 / Galaxy S20 Ultra ~ 412 √ó 915 */
@media (max-width: 412px) and (max-height: 915px){
  .intro h1{ font-size: 26px; }
}

/* Galaxy S8+ ~ 360 √ó 740 */
@media (max-width: 360px) and (max-height: 740px){
  .intro h1{ font-size: 23px; }
}

/* iPad mini (portrait) ~ 768 √ó 1024 */
@media (max-width: 768px) and (max-height: 1024px){
  .intro h1{ font-size: 40px; }
}

/* Ipad Air */
@media (max-width: 820px) and (max-height: 1180px){
  .intro h1{ font-size: 40px; }
}

 

    .intro p {
      font-size: 22px;
      text-shadow: 2px 2px 4px #000;
      margin: 0;
    }

    .main-flex {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    canvas {
      background: radial-gradient(circle, #ff99cc, #ff6699);
      border: 12px solid #ffccff;
      border-radius: 50%;
      box-shadow: 0 0 30px #ff66cc, inset 0 0 20px #fff;
    }

    #spin {
      margin: 20px auto;
      padding: 24px 48px;
      font-size: 28px;
      color: #fff;
      background: radial-gradient(circle, #ffcc00, #ff9900);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      animation: breathe 2s ease-in-out infinite, glow 3s ease-in-out infinite;
    }
    @keyframes breathe { 0%,100%{transform:scale(1);}50%{transform:scale(1.08);} }
    @keyframes glow { 0%,100%{box-shadow:0 0 25px #ffcc00;}50%{box-shadow:0 0 50px #ffcc00;} }

    #banner {
      display: none;
      text-align: center;
      margin: 25px;
      padding: 25px 40px;
      font-size: 28px;
      color: #000;
      background: linear-gradient(135deg, #ffcc00, #ff0066);
      border-radius: 35px;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
      font-weight: bold;
    }
    #banner a {
      display: block;
      margin-top: 18px;
      padding: 16px 32px;
      background: #fff;
      color: #000;
      border-radius: 25px;
      font-size: 24px;
      text-decoration: none;
      font-weight: bold;
      box-shadow: 0 0 12px rgba(0,0,0,0.3);
    }
    #banner .secure {
      margin-top: 15px;
      font-size: 18px;
      color: #fff;
      text-shadow: 1px 1px 3px #000;
    }

    .decor {
      position: absolute;
      width: 8vw; height: 8vw;
      background-size: contain;
      background-repeat: no-repeat;
      animation: float 6s ease-in-out infinite;
    }
    .decor1 { top:26%; left:15%; background-image: url('candy 1.png'); animation-delay:0s;}
    .decor2 { top:50%; left:80%; background-image: url('candy 2.png'); animation-delay:2s;}
    .decor3 { top:75%; left:30%; background-image: url('candy 3.png'); animation-delay:4s;}
    @keyframes float {0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);}}

    /* === POPUP (overlay) === */
    .popup[hidden] { display: none; }

    .popup {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.55);
      z-index: 9999;
      padding: 20px;
    }

    .popup-card {
      position: relative;
      width: min(900px, 92vw);
      border-radius: 28px;
      overflow: hidden;
      /* Banner */
    }

    /* Closing Button (X) */
    .popup-close {
      position: absolute;
      top: 10px;
      right: 12px;
      border: 0;
      background: rgba(0,0,0,0.35);
      color: #fff;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 22px;
      line-height: 36px;
      cursor: pointer;
    }
    .popup-close:hover { background: rgba(0,0,0,0.5); }


  </style>
</head>
<body>
  <div class="decor decor1"></div>
  <div class="decor decor2"></div>
  <div class="decor decor3"></div>

  <div class="intro">
    <h1>üéâ √áarkƒ± √ßevir ve bonusunu al!</h1>
    <p>Hi√ßbir risk yok ‚Äî √ßarkƒ± √ßevir, kazan ve bonusun keyfini hemen √ßƒ±kar! %100 kazan√ß garantili. <br></p>
  </div>

  <div class="main-flex">
    <canvas id="wheel"></canvas>
    <button id="spin">√áEVƒ∞R</button>

    <!-- Popup -->
    <div id="popup" class="popup" hidden>
      <div class="popup-card" role="dialog" aria-modal="true" aria-labelledby="popupTitle">
        <button class="popup-close" aria-label="Close">√ó</button>
        <div id="banner"></div>
      </div>
    </div>
  </div>

  <script>
    const sectors = [
      { color: "#ffcc00", text: "#000", label: "%200 + 100 FS", full: "üé∞ %200 Ho≈ü Geldin Bonusu + 100 Free Spin" },
      { color: "#ff0066", text: "#fff", label: "5000 TL", full: "üí∞ 5000 TL Bonus Kazandƒ±nƒ±z!" },
      { color: "#ffcc00", text: "#000", label: "%200 + 5000", full: "üéØ %200 Bonus + 5000 TL Cashback" },
      { color: "#ff0066", text: "#fff", label: "100 FS", full: "üéÅ 100 √úcretsiz D√∂n√º≈ü Hediye!" },
      { color: "#ffcc00", text: "#000", label: "VIP 5000", full: "üî• VIP Bonusu: 5000 TL" },
      { color: "#ff0066", text: "#fff", label: "%200 Ba≈ülangƒ±√ß", full: "üé∞ Slotta %200 Ba≈ülangƒ±√ß Bonusu!" },
      { color: "#ffcc00", text: "#000", label: "5000 TL Ekstra", full: "üíé 5000 TL Ekstra Kazan√ß" },
      { color: "#ff0066", text: "#fff", label: "FS + Bonus", full: "üéâ %200 + 100 Free Spin Bonusu!" }
];


    const canvas = document.getElementById("wheel");
    const ctx = canvas.getContext("2d");
    let size, rad, dia, arc, angVel = 0, ang = 0;
    const PI = Math.PI, TAU = 2 * PI;
    const spinEl = document.getElementById("spin");
    const banner = document.getElementById("banner");

    function resizeCanvas() {
      size = Math.min(window.innerWidth * 0.8, window.innerHeight * 0.6);
      canvas.width = size;
      canvas.height = size;
      dia = size;
      rad = size / 2;
      arc = TAU / sectors.length;
      draw();
    }

    function draw() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      sectors.forEach((sector, i) => {
        const angStart = arc * i;
        ctx.beginPath();
        ctx.fillStyle = sector.color;
        ctx.moveTo(rad, rad);
        ctx.arc(rad, rad, rad, angStart, angStart + arc);
        ctx.lineTo(rad, rad);
        ctx.fill();
        ctx.save();
        ctx.translate(rad, rad);
        ctx.rotate(angStart + arc / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = sector.text;
        ctx.font = `bold ${rad * 0.07}px Lato`;
        ctx.fillText(sector.label, rad * 0.85, 10);
        ctx.restore();
      });
    }

    function rotate() {
      canvas.style.transform = `rotate(${ang}rad)`;
    }

    const popup = document.getElementById("popup");
    const closeBtn = () => popup?.querySelector(".popup-close");

    function openPopup() {
      banner.style.display = "block";  
      popup.hidden = false;
      document.body.style.overflow = "hidden"; // Evict the bottom scroll
    }

    function closePopup() {
      popup.hidden = true;
      document.body.style.overflow = "";   // Restablish
    }

    function frame() {
      if (!angVel && spinEl.dataset.clicked) {
        const index = Math.floor(((ang + PI / 2) % TAU) / arc);
        const sector = sectors[index];
        banner.innerHTML = `
          üéâ ${sector.full}
          <a href="https://adviseattline.com/click" target="_blank">Hemen Yatƒ±r & Bonusunu Al</a>
          <div class="secure">üîí %100 g√ºvenli ve anƒ±nda bonus!</div>
        `;
        openPopup();
      spinEl.dataset.clicked = "";
      spinEl.disabled = false;
      spinEl.style.opacity = "1";
      spinEl.style.cursor = "pointer";
      return;
      }

      angVel *= 0.991;
      if (angVel < 0.002) angVel = 0;
      ang += angVel;
      ang %= TAU;
      rotate();
      requestAnimationFrame(frame);
    }

    spinEl.onclick = () => {
      if (!angVel) {
        angVel = Math.random() * (0.4 - 0.25) + 0.25;
        banner.style.display = "none";
        spinEl.dataset.clicked = true;

         // üö´ Deactivate button
         spinEl.disabled = true;
         spinEl.style.opacity = "0.6";
         spinEl.style.cursor = "not-allowed";
        frame();
      }


    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    rotate();
    // Close with X
    document.addEventListener("click", (e) => {
      if (e.target === closeBtn()) closePopup();
    });

    // Close with ESC
    document.addEventListener("keydown", (e) => {
      if (!popup.hidden && e.key === "Escape") closePopup();
    });

    // Close clicking outside of the Popup
    popup.addEventListener("click", (e) => {
      if (e.target === popup) closePopup();
    });

  </script>
</body>
</html>
